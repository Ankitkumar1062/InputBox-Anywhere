<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
  <title>Floating Input Box</title>
</head>
<body>
  <div class="popup-container">
    <h1>Floating Input Box</h1>
    
    <div class="switch-container">
      <label for="enable-toggle">Enable Extension</label>
      <label class="switch">
        <input type="checkbox" id="enable-toggle" checked>
        <span class="slider round"></span>
      </label>
    </div>
    
    <div class="mode-selection">
      <h2>Mode</h2>
      <div class="radio-container">
        <input type="radio" id="habit-mode" name="mode" value="habit" checked>
        <label for="habit-mode">Habit Mode</label>
        <p class="description">Creates a floating input box when you focus on any text field</p>
      </div>
      
      <div class="radio-container">
        <input type="radio" id="advanced-mode" name="mode" value="advanced">
        <label for="advanced-mode">Advanced Mode</label>
        <p class="description">Access to TinyLlama tools and customization</p>
      </div>
    </div>
    
    <div class="position-selection">
      <h2>Position</h2>
      <div class="radio-container">
        <input type="radio" id="position-top" name="position" value="top" checked>
        <label for="position-top">Top</label>
      </div>
      
      <div class="radio-container">
        <input type="radio" id="position-center" name="position" value="center">
        <label for="position-center">Center</label>
      </div>
    </div>
    
    <!-- Advanced Tools Section -->
    <div id="advanced-tools" class="advanced-tools">
      <h2>Advanced Tools</h2>

      <div class="setting-row checkbox-row">
        <label for="floating-box-toggle">Floating Box:</label>
        <input type="checkbox" id="floating-box-toggle">
      </div>
      
      <!-- Summarization Tool -->
      <div class="tool-card">
        <h3>Page Summarization</h3>
        <p class="description">Generate a concise summary of the current page</p>
        <div class="tool-options">
          <select id="summary-type">
            <option value="full">Full Page</option>
            <option value="selection">Selected Text</option>
            <option value="main">Main Content</option>
          </select>
          <button id="summarize-btn">Summarize</button>
        </div>
      </div>
      
      <!-- CSS Customization Tool -->
      <div class="tool-card">
        <h3>CSS Customization</h3>
        <p class="description">Apply custom CSS to the current page</p>
        <div class="tool-options">
          <select id="css-preset">
            <option value="custom">Custom CSS</option>
            <option value="readability">Readability Mode</option>
            <option value="dark">Dark Mode</option>
            <option value="large-text">Large Text</option>
            <option value="minimal">Minimal UI</option>
          </select>
          <button id="apply-css-btn">Apply CSS</button>
          <button id="edit-css-btn">Edit CSS</button>
        </div>
      </div>
      
      <!-- NEW: Box Customization Tool -->
      <div class="tool-card">
        <h3>Input Box Appearance</h3>
        <p class="description">Customize the floating input box style</p>
        <div class="accordion">
          <div class="accordion-header">
            <span>Theme Settings</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="setting-row">
              <label for="box-theme">Theme:</label>
              <select id="box-theme">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
                <option value="blue">Blue</option>
                <option value="minimal">Minimal</option>
                <option value="custom">Custom</option>
              </select>
            </div>
            <div class="setting-row">
              <label for="box-bg-color">Background Color:</label>
              <input type="color" id="box-bg-color" value="#ffffff">
            </div>
            <div class="setting-row">
              <label for="box-text-color">Text Color:</label>
              <input type="color" id="box-text-color" value="#333333">
            </div>
            <div class="setting-row">
              <label for="box-accent-color">Accent Color:</label>
              <input type="color" id="box-accent-color" value="#4a90e2">
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header">
            <span>Positioning & Behavior</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="setting-row">
              <label for="box-width">Width (%):</label>
              <input type="range" id="box-width" min="30" max="90" value="60">
              <span class="range-value">60%</span>
            </div>
            <div class="setting-row">
              <label for="box-height">Min Height (px):</label>
              <input type="range" id="box-height" min="80" max="300" value="120">
              <span class="range-value">120px</span>
            </div>
            <div class="setting-row">
              <label for="box-opacity">Opacity:</label>
              <input type="range" id="box-opacity" min="50" max="100" value="100">
              <span class="range-value">100%</span>
            </div>
            <div class="setting-row">
              <label for="box-blur">Backdrop Blur:</label>
              <input type="range" id="box-blur" min="0" max="20" value="5">
              <span class="range-value">5px</span>
            </div>
            <div class="setting-row">
              <label for="floating-animation">Animation:</label>
              <select id="floating-animation">
                <option value="none">None</option>
                <option value="fade" selected>Fade In</option>
                <option value="slide">Slide Down</option>
                <option value="bounce">Bounce</option>
              </select>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header">
            <span>Style & Typography</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="setting-row">
              <label for="box-border-radius">Border Radius (px):</label>
              <input type="range" id="box-border-radius" min="0" max="24" value="12">
              <span class="range-value">12px</span>
            </div>
            <div class="setting-row">
              <label for="box-shadow-size">Shadow Size:</label>
              <select id="box-shadow-size">
                <option value="none">None</option>
                <option value="small">Small</option>
                <option value="medium" selected>Medium</option>
                <option value="large">Large</option>
              </select>
            </div>
            <div class="setting-row">
              <label for="box-font-size">Font Size (px):</label>
              <input type="range" id="box-font-size" min="12" max="24" value="16">
              <span class="range-value">16px</span>
            </div>
            <div class="setting-row">
              <label for="box-font-family">Font Family:</label>
              <select id="box-font-family">
                <option value="system-ui">System UI</option>
                <option value="roboto">Roboto</option>
                <option value="open-sans">Open Sans</option>
                <option value="monospace">Monospace</option>
              </select>
            </div>
            <div class="setting-row checkbox-row">
              <label for="show-timestamp">Show Timestamp:</label>
              <input type="checkbox" id="show-timestamp" checked>
            </div>
          </div>
        </div>
        
        <div class="tool-options mt-10">
          <button id="apply-theme-btn">Apply Theme</button>
          <button id="reset-theme-btn" class="secondary-btn">Reset to Default</button>
        </div>
      </div>
      
      <!-- Form Lifting Tool -->
      <div class="tool-card">
        <h3>Form Lifting</h3>
        <p class="description">Lift forms and input fields to the top of the page for easy access.</p>
        <div id="form-list">
          <!-- Form list will be rendered here by JavaScript -->
        </div>
      </div>
      
      <!-- Server Status -->
      <div id="server-status" class="server-status">
        <h3>LLM Server Status</h3>
        <div class="status-indicator">
          <span class="status-dot disconnected"></span>
          <span class="status-text">Disconnected</span>
        </div>
        <button id="check-server">Check Connection</button>
      </div>
    </div>
    
    <div class="shortcuts">
      <h2>Keyboard Shortcuts</h2>
      <ul>
        <li><strong>Ctrl+Shift+F</strong>: Toggle floating input box</li>
        <li><strong>Ctrl+Shift+A</strong>: Toggle advanced mode</li>
        <li><strong>Ctrl+Shift+S</strong>: Quick summarize</li>
        <li><strong>Ctrl+Shift+C</strong>: View/edit CSS</li>
      </ul>
    </div>
    
    <div class="footer">
      <a href="#" id="open-options">Advanced Settings</a>
      <span class="version">v1.0.0</span>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html>
